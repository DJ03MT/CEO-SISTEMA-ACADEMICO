<!DOCTYPE html>
<html lang="es">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Panel de Profesores - Sistema CEO</title>
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
    <link rel="stylesheet" href="/styles/menuprofesores.css">

</head>
<body>
    <div class="dashboard-container">
        <!-- SIDEBAR -->
        <div class="sidebar" id="sidebar">
            <div class="user-profile">
                <div class="avatar">
                    <img src="<%= user.photo %>" alt="Foto" class="user-photo">
                </div>
        <div class="user-info"><%= user.name %></div>
        <div class="user-info"><%= user.materia %> - <%= user.grado %></div>
            </div>

            <ul class="nav-links">
                <li>
                    <a href="#" class="nav-link active" data-section="welcome">
                        <i class="fas fa-home"></i>
                        Inicio
                    </a>
                </li>
                <li>
                    <a href="#" class="nav-link" data-section="estudiantes">
                        <i class="fas fa-users"></i>
                        Mis Estudiantes
                    </a>
                </li>
                <li>
                    <a href="#" class="nav-link" data-section="notas">
                        <i class="fas fa-edit"></i>
                        Subir Notas
                    </a>
                </li>
                <li>
                    <a href="#" class="nav-link" data-section="asistencia">
                        <i class="fas fa-clipboard-check"></i>
                        Asistencia
                    </a>
                </li>
                <li>
                    <a href="#" class="nav-link" data-section="perfil">
                        <i class="fas fa-user"></i>
                        Mi Perfil
                    </a>
                </li>
            </ul>

            <div class="logout-section">
                <a href="/logout" class="logout-btn" id="logoutBtn">
                    <i class="fas fa-sign-out-alt"></i>
                    Cerrar Sesión
                </a>
            </div>
        </div>

        <!-- CONTENIDO PRINCIPAL -->
        <div class="main-content">
            <!-- SECCIÓN DE BIENVENIDA -->
<div id="welcome" class="content-section active">
    <div class="content-header">
        <div>
            <h1>Bienvenida, <%= user.name.split(' ')[0] %></h1>
            <p>Panel de Profesores - Sistema CEO</p>
        </div>
        <div class="current-date" id="currentDate"></div>
    </div>

                <div class="welcome-section">
                    <div class="welcome-icon">
                        <i class="fas fa-chalkboard-teacher"></i>
                    </div>
                    <h2 class="welcome-title">Panel de Control Docente</h2>
                    <p class="welcome-subtitle">Gestiona tus estudiantes, calificaciones y asistencia de manera eficiente.</p>

                    <div class="stats-grid">
                        <div class="stat-card">
                            <div class="stat-icon">
                                <i class="fas fa-users"></i>
                            </div>
                            <div class="stat-number">42</div>
                            <div class="stat-label">Estudiantes</div>
                        </div>
                        
                        <div class="stat-card">
                            <div class="stat-icon">
                                <i class="fas fa-clipboard-list"></i>
                            </div>
                            <div class="stat-number">85%</div>
                            <div class="stat-label">Asistencia Promedio</div>
                        </div>
                        
                        <div class="stat-card">
                            <div class="stat-icon">
                                <i class="fas fa-chart-line"></i>
                            </div>
                            <div class="stat-number">8.2</div>
                            <div class="stat-label">Promedio General</div>
                        </div>
                        
                        <div class="stat-card">
                            <div class="stat-icon">
                                <i class="fas fa-tasks"></i>
                            </div>
                            <div class="stat-number">12</div>
                            <div class="stat-label">Evaluaciones Pendientes</div>
                        </div>
                    </div>
                </div>
            </div>

            <!-- SECCIÓN DE ESTUDIANTES -->
            <div id="estudiantes" class="content-section">
                <div class="content-header">
                    <h1><i class="fas fa-users"></i> Mis Estudiantes</h1>
                    <p>Lista de estudiantes asignados a tus materias</p>
                </div>

                <div class="students-grid">
                    <div class="student-card">
                        <div class="student-info">
                            <h3>Ana García López</h3>
                            <p><i class="fas fa-graduation-cap"></i> Curso: 10A</p>
                            <p><i class="fas fa-envelope"></i> Email: ana@colegio.edu</p>
                            <div class="student-stats">
                                <div class="student-stat attendance-stat">
                                    <i class="fas fa-user-check"></i> Asistencia: 95%
                                </div>
                                <div class="student-stat grade-stat">
                                    <i class="fas fa-chart-bar"></i> Promedio: 8.5
                                </div>
                            </div>
                        </div>
                    </div>

                    <div class="student-card">
                        <div class="student-info">
                            <h3>Carlos Rodríguez</h3>
                            <p><i class="fas fa-graduation-cap"></i> Curso: 10A</p>
                            <p><i class="fas fa-envelope"></i> Email: carlos@colegio.edu</p>
                            <div class="student-stats">
                                <div class="student-stat attendance-stat">
                                    <i class="fas fa-user-check"></i> Asistencia: 75%
                                </div>
                                <div class="student-stat grade-stat">
                                    <i class="fas fa-chart-bar"></i> Promedio: 7.2
                                </div>
                            </div>
                        </div>
                    </div>

                    <div class="student-card">
                        <div class="student-info">
                            <h3>María Fernández</h3>
                            <p><i class="fas fa-graduation-cap"></i> Curso: 10B</p>
                            <p><i class="fas fa-envelope"></i> Email: maria@colegio.edu</p>
                            <div class="student-stats">
                                <div class="student-stat attendance-stat">
                                    <i class="fas fa-user-check"></i> Asistencia: 100%
                                </div>
                                <div class="student-stat grade-stat">
                                    <i class="fas fa-chart-bar"></i> Promedio: 9.1
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
            </div>

            <!-- SECCIÓN DE NOTAS -->
            <div id="notas" class="content-section">
                <div class="content-header">
                    <h1><i class="fas fa-edit"></i> Subir Notas</h1>
                    <p>Registrar calificaciones para los estudiantes</p>
                </div>

                <div class="form-container">
                    <div class="form-group">
                        <label for="estudiante-nota"><i class="fas fa-user-graduate"></i> Seleccionar Estudiante:</label>
                        <select id="estudiante-nota" class="form-control">
                            <option value="">-- Seleccione un estudiante --</option>
                            <option value="1">Ana García López - 10A</option>
                            <option value="2">Carlos Rodríguez - 10A</option>
                            <option value="3">María Fernández - 10B</option>
                        </select>
                    </div>

                    <div class="form-group">
                        <label for="materia-nota"><i class="fas fa-book"></i> Materia:</label>
                        <select id="materia-nota" class="form-control">
                            <option value="matematicas">Matemáticas</option>
                            <option value="algebra">Álgebra</option>
                            <option value="geometria">Geometría</option>
                        </select>
                    </div>

                    <div class="form-group">
                        <label for="tipo-evaluacion"><i class="fas fa-tasks"></i> Tipo de Evaluación:</label>
                        <select id="tipo-evaluacion" class="form-control">
                            <option value="parcial">Examen Parcial</option>
                            <option value="quices">Quices</option>
                            <option value="tareas">Tareas</option>
                            <option value="proyecto">Proyecto</option>
                        </select>
                    </div>

                    <div class="form-group">
                        <label for="calificacion"><i class="fas fa-star"></i> Calificación (0-20):</label>
                        <input type="number" id="calificacion" class="form-control" min="0" max="20" step="0.1" placeholder="Ej: 15.5">
                    </div>

                    <div class="form-group">
                        <label for="observaciones"><i class="fas fa-sticky-note"></i> Observaciones:</label>
                        <textarea id="observaciones" class="form-control" rows="3" placeholder="Observaciones opcionales..."></textarea>
                    </div>

                    <button class="btn btn-primary" onclick="subirNota()">
                        <i class="fas fa-upload"></i> Subir Nota
                    </button>
                </div>
            </div>

            <!-- SECCIÓN DE ASISTENCIA -->
            <div id="asistencia" class="content-section">
                <div class="content-header">
                    <h1><i class="fas fa-clipboard-check"></i> Registrar Asistencia</h1>
                    <p>Control de presencia estudiantil</p>
                </div>

                <div class="form-container">
                    <div class="form-group">
                        <label for="fecha-asistencia"><i class="fas fa-calendar-alt"></i> Fecha:</label>
                        <input type="date" id="fecha-asistencia" class="form-control">
                    </div>

                    <div class="form-group">
                        <label for="curso-asistencia"><i class="fas fa-users"></i> Curso:</label>
                        <select id="curso-asistencia" class="form-control">
                            <option value="10A">10° Grado A</option>
                            <option value="10B">10° Grado B</option>
                        </select>
                    </div>

                    <div class="attendance-list">
                        <h3>Lista de Estudiantes</h3>
                        
                        <div class="attendance-item">
                            <span>Ana García López</span>
                            <div class="attendance-buttons">
                                <button class="btn-attendance present" onclick="marcarAsistencia(this, 'presente')"><i class="fas fa-check"></i> Presente</button>
                                <button class="btn-attendance absent" onclick="marcarAsistencia(this, 'ausente')"><i class="fas fa-times"></i> Ausente</button>
                                <button class="btn-attendance late" onclick="marcarAsistencia(this, 'tardanza')"><i class="fas fa-clock"></i> Tarde</button>
                            </div>
                        </div>

                        <div class="attendance-item">
                            <span>Carlos Rodríguez</span>
                            <div class="attendance-buttons">
                                <button class="btn-attendance present" onclick="marcarAsistencia(this, 'presente')"><i class="fas fa-check"></i> Presente</button>
                                <button class="btn-attendance absent" onclick="marcarAsistencia(this, 'ausente')"><i class="fas fa-times"></i> Ausente</button>
                                <button class="btn-attendance late" onclick="marcarAsistencia(this, 'tardanza')"><i class="fas fa-clock"></i> Tarde</button>
                            </div>
                        </div>

                        <div class="attendance-item">
                            <span>María Fernández</span>
                            <div class="attendance-buttons">
                                <button class="btn-attendance present" onclick="marcarAsistencia(this, 'presente')"><i class="fas fa-check"></i> Presente</button>
                                <button class="btn-attendance absent" onclick="marcarAsistencia(this, 'ausente')"><i class="fas fa-times"></i> Ausente</button>
                                <button class="btn-attendance late" onclick="marcarAsistencia(this, 'tardanza')"><i class="fas fa-clock"></i> Tarde</button>
                            </div>
                        </div>
                    </div>

                    <button class="btn btn-primary" onclick="guardarAsistencia()">
                        <i class="fas fa-save"></i> Guardar Asistencia
                    </button>
                </div>
            </div>

            <!-- SECCIÓN DE PERFIL -->
            <div id="perfil" class="content-section">
                <div class="content-header">
                    <h1><i class="fas fa-user"></i> Mi Perfil</h1>
                    <p>Información personal y profesional</p>
                </div>

                <div class="form-container">
                    <div class="form-group">
                        <label for="nombre"><i class="fas fa-user"></i> Nombre Completo:</label>
                        <input type="text" id="nombre" class="form-control" value="<%= user.name %>" readonly>
                    </div>

                    <div class="form-group">
                        <label for="email"><i class="fas fa-envelope"></i> Correo Electrónico:</label>
                        <input type="email" id="email" class="form-control" value="<%= user.email %>" readonly>
                    </div>

                    <div class="form-group">
                        <label for="materia"><i class="fas fa-book"></i> Materia Principal:</label>
                        <input type="text" id="materia" class="form-control" value="Matemáticas" readonly>
                    </div>

                    <div class="form-group">
                        <label for="grados"><i class="fas fa-graduation-cap"></i> Grados Asignados:</label>
                        <input type="text" id="grados" class="form-control" value="10° A, 10° B, 11° A" readonly>
                    </div>

                    <div class="form-group">
                        <label for="telefono"><i class="fas fa-phone"></i> Teléfono:</label>
                        <input type="tel" id="telefono" class="form-control" value="+505 8888-9999" readonly>
                    </div>

                    <button class="btn btn-primary">
                        <i class="fas fa-edit"></i> Editar Perfil
                    </button>
                </div>
            </div>
        </div>
    </div>

    <script>
        // Navegación entre secciones
        document.addEventListener('DOMContentLoaded', function() {
            const navLinks = document.querySelectorAll('.nav-link');
            const contentSections = document.querySelectorAll('.content-section');
            const menuToggle = document.getElementById('menuToggle');
            const sidebar = document.getElementById('sidebar');
            
            // Navegación principal
            navLinks.forEach(link => {
                link.addEventListener('click', function(e) {
                    e.preventDefault();
                    
                    // Remover clase activa de todos los enlaces
                    navLinks.forEach(item => item.classList.remove('active'));
                    
                    // Agregar clase activa al enlace clickeado
                    this.classList.add('active');
                    
                    // Ocultar todas las secciones
                    contentSections.forEach(section => section.classList.remove('active'));
                    
                    // Mostrar la sección correspondiente
                    const sectionId = this.getAttribute('data-section');
                    document.getElementById(sectionId).classList.add('active');
                    
                    // En móviles, cerrar el menú después de hacer clic
                    if (window.innerWidth <= 1200) {
                        sidebar.classList.remove('active');
                    }
                });
            });
            
            // Toggle del menú en móviles
            menuToggle.addEventListener('click', function() {
                sidebar.classList.toggle('active');
            });
            
            // Mostrar fecha actual
            const currentDateElement = document.getElementById('currentDate');
            const now = new Date();
            const options = { weekday: 'long', year: 'numeric', month: 'long', day: 'numeric' };
            currentDateElement.textContent = now.toLocaleDateString('es-ES', options);
            
            // Cerrar sesión
            document.getElementById('logoutBtn').addEventListener('click', function(e) {
                e.preventDefault();
                if (confirm('¿Estás seguro de que deseas cerrar sesión?')) {
                    alert('Sesión cerrada correctamente');
                    // Redireccionar al login
                    window.location.href = '/logout';
                }
            });
        });

        // Funciones para interactividad
        function marcarAsistencia(button, estado) {
            // Remover clase active de todos los botones del mismo grupo
            const buttons = button.parentElement.querySelectorAll('.btn-attendance');
            buttons.forEach(btn => btn.classList.remove('active'));
            
            // Agregar clase active al botón clickeado
            button.classList.add('active');
            
            console.log(`Asistencia marcada como: ${estado}`);
        }

        function guardarAsistencia() {
            alert('Asistencia guardada correctamente');
        }

        function subirNota() {
            const estudiante = document.getElementById('estudiante-nota').value;
            const calificacion = document.getElementById('calificacion').value;
            
            if (!estudiante || !calificacion) {
                alert('Por favor, complete todos los campos obligatorios');
                return;
            }
            
            alert('Nota subida correctamente');
            // Aquí iría la lógica para enviar los datos al servidor
        }
    </script>
</body>
</html>